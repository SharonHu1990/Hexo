title: 什么是EXC_BAD_ACCESS以及如何调试
toc: true
date: 2015-10-30 10:23:56
tags: [iOS, EXC_BAD_ACCESS，调试]
categories: [iOS]
---

某些时候，你可能会遇到由EXC_BAD_ACCESS引起的崩溃。在这片文章中，你将学会什么是EXC_BAD_ACCESS，以及它是有什么引起的。我也将提出一些解决由EXC_BAD_ACCESS引起的bug的技巧。

# 什么是EXC_BAD_ACCESS？
一旦你理解了EXC_BAD_ACCESS的根本原因，你会更好地理解它这个含义模糊的名称。这里有一个简单的解释和一个更加专业的解释。让我们首先以这个简单的解释开始吧。

## 保持简单
无论何时你遇到了EXC_BAD_ACCESS，那就意味着你正在发送一个消息给一个对象，而这个对象已经被释放掉了。这是最常见的情况，但是下面来看看更多的解释。

## 真正含义
专业的解释有一些复杂。在C和Objective-C中，经常处理指针。指针无非是存储另一个变量的内存地址的变量。当你发送一个消息给一个对象，那么指向这个对象的指针需要被引用。这意味着，你取得这个指针指向的内存地址而且访问那块内存的值。


当那块内存不再与你的应用程序映射，或者，换一种说法，那块内存不再以你所期许的方式被使用，那么，就有可能无法访问到那一块内存。当这种情况发生的时候，内核发送异常（ ** EXC ** ），表明你的应用程序无法访问到那块内存（** BAD ACCESS **）。


概括起来就是：当你遇到EXC_BAD_ACCESS时，意味着你在尝试向一块内存发送消息，而这块内存无法执行这个消息。


然而，有时候,EXC_BAD_ACCESS是由一个corrupt pointer引起的。每当你的应用程序程序尝试去引用一个corrupt pointer指针时，内核都会抛出一个异常。

注：corrupt pointer：可以理解为『野指针』。指的是：指向一个已删除的对象或未申请访问受限内存区域的指针。与空指针不同，野指针无法通过简单地判断是否为 NULL避免，而只能通过养成良好的编程习惯来尽力减少。对野指针进行操作很容易造成程序错误。


## 调试EXC_BAD_ACCESS
调试EXC_BAD_ACCESS可能是棘手和令人沮丧的。显示，现在EXC_BAD_ACCESS对你来说不再是那么困难的事情了。


你需要了解的第一件事情是，一旦内存块无法被访问到，你的应用程序就会崩溃。使这就是经常使调试EXC_BAD_ACCESS这么困难的原因。


这同样适用于野指针。当你引用野指针时，情况就糟糕了。


### Zombies
虽然僵尸在过去的几年中才得到普及，但是，在Xcode中以及出现十多年了。『僵尸』这个名称听起来可能有些戏剧化，但是，这对于解释我们是如何调试EXC_BAD_ACCESS来说，是一个体现其特性的伟大的名字。


在Xcode中，你可以启用僵尸对象（zombie objects），这意味着，被释放的对象





